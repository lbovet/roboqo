<!DOCTYPE html>
<!--
Copyright 2013 Laurent Bovet <laurent.bovet@windmaster.ch>
Licensed under the terms of the GNU General Public License, see <http://www.gnu.org/licenses/>.
-->
<html>
<head>
    <meta charset="utf-8">
    <title>Blockly Code</title>
    <script type="text/javascript" src="js/blockly_compressed.js"></script>
    <script type="text/javascript" src="js/en_compressed.js"></script>
    <script type="text/javascript" src="js/javascript_compressed.js"></script>
    <script type="text/javascript" src="js/blocks.js"></script>
    <script type="text/javascript" src="js/generators.js"></script>
    <script type="text/javascript" src="js/jquery-1.10.1.min.js"></script>
    <style>
        html, body {
            background-color: #fff;
            margin: 0;
            padding: 0;
            overflow: hidden;
        }
        .blocklySvg {
            height: 100%;
            width: 100%;
        }
    </style>
    <script>

        function init() {
            var toolbox = null;
            if("ontouchstart" in window || window.DocumentTouch && document instanceof DocumentTouch) {
                goog.userAgent.MOBILE = true;
            }
            Blockly.inject(document.body,
                    {path: '../../', trashcan:true, collapse: true, toolbox: document.getElementById('toolbox')});
            $(".blocklyToolboxDiv").hide();

            if (window.parent.initBlockly) {
                // Let the top-level application know that Blockly is ready.
                window.parent.initBlockly(Blockly);
                Blockly.mainWorkspace.scrollbar = new Blockly.ScrollbarPair(
                        Blockly.mainWorkspace.getBubbleCanvas(),
                        Blockly.getMainWorkspaceMetrics, Blockly.setMainWorkspaceMetrics);
            } else {
                // Attempt to diagnose the problem.
                var msg = 'Error: Unable to communicate between frames.\n\n';
                if (window.parent == window) {
                    msg += 'Try loading index.html instead of frame.html';
                } else if (window.location.protocol == 'file:') {
                    msg += 'This may be due to a security restriction preventing\n' +
                            'access when using the file:// protocol.\n' +
                            'http://code.google.com/p/chromium/issues/detail?id=47416';
                }
                alert(msg);
            }
        }
    </script>
</head>
<body onload="init()">
<!--
<xml id="toolbox" style="display: none">
        <block type="controls_if"></block>
        <block type="controls_repeat_ext">
            <value name="TIMES">
                <block type="math_number"><title name="NUM">10</title></block>
            </value>
        </block>
</xml>
-->
<xml id="toolbox" style="display: none">
    <category name="control">
        <block type="controls_whileUntil">
            <value name="BOOL">
                <block type="logic_boolean"><title name="BOOL">TRUE</title></block>
            </value>
        </block>
        <block type="controls_repeat_ext">
            <value name="TIMES">
                <block type="math_number"><title name="NUM">10</title></block>
            </value>
        </block>
        <block type="controls_if"></block>
        <block type="controls_flow_statements"></block>
        <block type="controls_wait">
            <value name="TIME">
                <block type="math_number"><title name="NUM">1</title></block>
            </value>
        </block><!--
        <block type="controls_button"></block>-->
    </category>
    <category name="logic">
        <block type="logic_compare"></block>
        <block type="logic_operation"></block>
        <block type="logic_negate"></block>
        <block type="logic_boolean"></block>
    </category>
    <category name="math">
        <block type="math_number"></block>
        <block type="math_arithmetic"></block>
        <block type="math_constrain">
            <value name="LOW">
                <block type="math_number"><title name="NUM">1</title></block>
            </value>
            <value name="HIGH">
                <block type="math_number"><title name="NUM">100</title></block>
            </value>
        </block>
        <block type="math_random_int">
            <value name="FROM">
                <block type="math_number"><title name="NUM">1</title></block>
            </value>
            <value name="TO">
                <block type="math_number"><title name="NUM">100</title></block>
            </value>
        </block>
    </category>
    <category name="movement">
        <block type="movement_servo">
            <value name="POSITION">
                <block type="math_number"><title name="NUM">128</title></block>
            </value>
        </block>
        <block type="movement_motor">
            <value name="SPEED">
                <block type="math_number"><title name="NUM">50</title></block>
            </value>
        </block>
        <block type="movement_vibration">
            <value name="SPEED">
                <block type="math_number"><title name="NUM">50</title></block>
            </value>
        </block>
    </category>
    <category name="sensors">
        <block type="sensor_raw"></block>
    </category>
    <category name="light">
        <block type="light_led">
            <value name="LIGHTNESS">
                <block type="math_number"><title name="NUM">100</title></block>
            </value>
        </block>
        <block type="light_triled">
            <value name="COLOUR">
                <block type="colour_picker"><title name="COLOUR">#ffcc00</title></block>
            </value>
        </block>
        <block type="colour_picker"></block>
        <block type="colour_random"></block>
        <block type="colour_blend"></block>
    </category>
    <category name="Variables" custom="VARIABLE"></category>
    <category name="Procedures" custom="PROCEDURE"></category>
</xml>
</body>
</html>
